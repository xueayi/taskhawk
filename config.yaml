# TaskNyaé…ç½®æ–‡ä»¶
app:
  name: "TaskNya"
  host: "0.0.0.0"
  port: 15000
  debug: true
  secret_key: "your-secret-key"
  SQLALCHEMY_DATABASE_URI: "sqlite:///tasknya.db"
  SQLALCHEMY_TRACK_MODIFICATIONS: false

# æ•°æ®åº“é…ç½®
database:
  type: "sqlite"  # sqlite/postgresql
  path: "tasknya.db"  # SQLiteæ•°æ®åº“æ–‡ä»¶è·¯å¾„
  # PostgreSQLé…ç½®ï¼ˆå¯é€‰ï¼‰
  # host: "localhost"
  # port: 5432
  # name: "tasknya"
  # user: "postgres"
  # password: "password"

# æ·±åº¦å­¦ä¹ ä»»åŠ¡ç›‘æ§é…ç½®æ–‡ä»¶
monitor:
  # åŸºæœ¬é…ç½®
  project_name: "æ·±åº¦å­¦ä¹ è®­ç»ƒ"     # é¡¹ç›®åç§°
  check_interval: 5               # æ£€æŸ¥é—´éš”(ç§’)
  logprint: 60                     # æ—¥å¿—æ‰“å°é—´éš”ï¼ˆç§’ï¼‰
  timeout: null                   # ç›‘æ§è¶…æ—¶æ—¶é—´(ç§’)ï¼Œè®¾ä¸ºnullåˆ™æ— é™ç­‰å¾…
  
  # æ–‡ä»¶æ£€æŸ¥é…ç½®
  check_file_enabled: false         # æ˜¯å¦å¯ç”¨æ–‡ä»¶æ£€æŸ¥
  check_file_path: "./output/model_final.pth"  # è¦æ£€æŸ¥çš„æ–‡ä»¶è·¯å¾„
  
  # æ—¥å¿—æ£€æŸ¥é…ç½®
  check_log_enabled: false          # æ˜¯å¦å¯ç”¨æ—¥å¿—æ£€æŸ¥
  check_log_path: "./output/training.log"  # æ—¥å¿—æ–‡ä»¶è·¯å¾„
  check_log_markers:               # å®Œæˆæ ‡è®°åˆ—è¡¨
    - "Training completed"
    - "ä»»åŠ¡å®Œæˆ"
    - "è®­ç»ƒå®Œæˆ"
    - "Epoch [300/300]"
  
  # GPUåŠŸè€—æ£€æŸ¥é…ç½®
  check_gpu_power_enabled: true   # æ˜¯å¦å¯ç”¨GPUåŠŸè€—æ£€æŸ¥
  check_gpu_power_threshold: 50.0  # åŠŸè€—é˜ˆå€¼(ç“¦ç‰¹)
  check_gpu_power_gpu_ids: "all"   # å¯ä»¥æ˜¯æ•°å­—ã€åˆ—è¡¨[0,1]æˆ–"all"
  check_gpu_power_consecutive_checks: 3  # è¿ç»­å‡ æ¬¡æ£€æµ‹ä½äºé˜ˆå€¼æ‰åˆ¤å®šå®Œæˆ

  # ç³»ç»Ÿç›‘æ§é…ç½®
  system:
    enabled: true
    interval: 5  # ç³»ç»Ÿç›‘æ§é—´éš”ï¼ˆç§’ï¼‰
    cpu:
      enabled: true
      warning_threshold: 90  # CPUä½¿ç”¨ç‡è­¦å‘Šé˜ˆå€¼
    memory:
      enabled: true
      warning_threshold: 90  # å†…å­˜ä½¿ç”¨ç‡è­¦å‘Šé˜ˆå€¼
    disk:
      enabled: true
      warning_threshold: 90  # ç£ç›˜ä½¿ç”¨ç‡è­¦å‘Šé˜ˆå€¼
    gpu:
      enabled: true
      warning_threshold: 85  # GPUä½¿ç”¨ç‡è­¦å‘Šé˜ˆå€¼
      temp_threshold: 80     # GPUæ¸©åº¦è­¦å‘Šé˜ˆå€¼
    network:
      enabled: true
      interfaces: ["eth0", "wlan0"]  # è¦ç›‘æ§çš„ç½‘ç»œæ¥å£

# é€šçŸ¥é…ç½®
notification:
  # Webhooké…ç½®
  webhook:
    enabled: true                    
    url: "https://open.feishu.cn/open-apis/bot/v2/hook/dad04f75-770a-4c27-a89b-5ce8bdeb8825"
    title: "ğŸ‰ æ·±åº¦å­¦ä¹ è®­ç»ƒå®Œæˆé€šçŸ¥"
    color: "green"                   
    include_project_name: true                
    include_project_name_title: "è®­ç»ƒé¡¹ç›®"      
    include_start_time: true                  
    include_start_time_title: "è®­ç»ƒå¼€å§‹"    
    include_end_time: true                    
    include_end_time_title: "è®­ç»ƒç»“æŸæ—¶é—´"     
    include_method: true                      
    include_method_title: "ç³»ç»Ÿåˆ¤æ–­ä¾æ®"       
    include_duration: true                    
    include_duration_title: "æ€»è€—æ—¶"          
    include_hostname: true                    
    include_hostname_title: "ä¸»æœºå"          
    include_gpu_info: true                    
    include_gpu_info_title: "GPUä¿¡æ¯"         
    footer: "æ­¤æ¶ˆæ¯ç”±TaskNyaå‘é€"

  # é‚®ä»¶é€šçŸ¥é…ç½®
  email:
    enabled: false
    smtp_server: "smtp.example.com"
    smtp_port: 587
    username: "your-email@example.com"
    password: "your-password"
    use_tls: true
    from_address: "your-email@example.com"
    to_addresses: ["recipient@example.com"]

  # ä¼ä¸šå¾®ä¿¡é…ç½®
  wechat:
    enabled: false
    corp_id: "your-corp-id"
    agent_id: "your-agent-id"
    secret: "your-secret"

# æ—¥å¿—é…ç½®
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "logs/tasknya.log"
  max_size: 10485760  # 10MB
  backup_count: 5
  encoding: "utf-8"
